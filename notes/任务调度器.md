### 题目
给定一个用字符数组表示的 CPU 需要执行的任务列表。其中包含使用大写的 A - Z 字母表示的26 种不同种类的任务。任务可以以任意顺序执行，并且每个任务都可以在 1 个单位时间内执行完。CPU 在任何一个单位时间内都可以执行一个任务，或者在待命状态。

然而，两个相同种类的任务之间必须有长度为 n 的冷却时间，因此至少有连续 n 个单位时间内 CPU 在执行不同的任务，或者在待命状态。

你需要计算完成所有任务所需要的最短时间。

示例 1：   
输入: tasks = ["A","A","A","B","B","B"], n = 2
输出: 8
执行顺序: A -> B -> (待命) -> A -> B -> (待命) -> A -> B.   

注：   
1、任务的总个数为 [1, 10000]。   
2、n 的取值范围为 [0, 100]。   

### 题解
思路：   
1、任务调度器要求每两个相同种类任务之间必须间隔n个冷却时间。所以关键要找出数量最多的执行任务x   
2、因为题目要求每两个相同种类任务之间必须有n个冷却时间，并且要求时间最短，那么每两个执行任务x的冷却时间内应该尽可能放入其他种类任务，没有办法放入任务的则放入待命任务   
3、然后找到和任务x数量同样多的任务，并且把这些任务执行时间加起来   
4、任务列表最优解也就是没有待命任务，也就是count(tasks)的执行时间，所以如果我们计算出的时间比最优解小，那么就必须取最优解   

```php
class Solution {

    /**
     * @param String[] $tasks
     * @param Integer $n
     * @return Integer
     */
    function leastInterval($tasks, $n) {
        $arr=[];
        //把任务列表所有任务按照种类放入哈希表，并计算各自种类的个数
        foreach($tasks as $key => $value){
            if(array_key_exists($value, $arr)){
                $arr[$value]++;
            }else{
                $arr[$value]=1;
            }
        }
        //找到最大种类个数
        $max=max($arr);
        //因为题目要求每两个相同种类任务之间必须有n个冷却时间，并且要求时间最短，那么冷却时间内应该尽可能放入其他种类任务，没有办法放入任务的则放入待命任务
        //那么拿数量最多的任务x来说，这些任务间隔时间为n，并且除最后一个任务x之外，其他x后面一定有n个其他任务，所以除最后一个任务x之后的任务是(max-1)*(n+1)个任务
        $minTime=($max-1)*($n+1);
        //然后找到和任务x数量同样多的任务，并且把这些任务执行时间加起来
        $lastTime=0;
        foreach($arr as $key => $value){
            if($value==$max){
                $lastTime++;
            }
        }
        $totalTime=$minTime+$lastTime;
        //任务列表最优解也就是没有待命任务，也就是count(tasks)的执行时间，所以如果我们计算出的时间比最优解小，那么就必须取最优解
        $length=count($tasks);
        if($totalTime<$length){
            $totalTime=$length;
        }
        return $totalTime;
    }
}
```
